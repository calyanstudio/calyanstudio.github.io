---
import Layout from '../layouts/Layout.astro';
---

<Layout title="Home" description="Calyan Studio - Your partner for web, game, and app development.">
	<section class="relative min-h-[calc(100vh-4rem)] flex items-center justify-center text-center overflow-hidden">
		<video id="hero-video" loop playsinline class="absolute top-1/2 left-1/2 w-full h-full object-cover transform -translate-x-1/2 -translate-y-1/2 z-0">
			<source src="/hero.mp4" type="video/mp4">
			Your browser does not support the video tag.
		</video>
		<div class="absolute inset-0 bg-black opacity-60 z-10"></div>
		<div class="relative z-20 text-white p-4 max-w-5xl mx-auto">
			<h1 id="hero-h1" class="text-5xl sm:text-6xl lg:text-7xl font-extrabold mb-6 drop-shadow-2xl transition-opacity duration-1000 opacity-100"></h1>
			<p id="hero-p" class="text-xl sm:text-2xl lg:text-3xl mb-10 drop-shadow-xl transition-opacity duration-1000 opacity-100"></p>
			<a href="/projects" class="inline-block bg-[#007bff] hover:bg-[#0056b3] text-white font-bold py-3 px-8 rounded-full text-lg transition duration-300 shadow-lg transform hover:scale-105">Explore Our Portfolio</a>
		</div>
	</section>

	<main class="px-4 md:px-8 lg:px-16 py-8 md:py-12 lg:py-16 max-w-screen-xl mx-auto">
		<section class="mb-20">
			<h2 class="text-4xl font-bold text-center mb-12 text-[#343a40]">Our Core Services</h2>
			<div class="grid grid-cols-1 md:grid-cols-3 gap-8">
				<div class="bg-white p-8 rounded-lg shadow-xl text-center transform transition duration-300 hover:scale-105">
					<i class="fas fa-laptop-code text-6xl text-[#007bff] mb-6"></i>
					<h3 class="text-2xl font-bold mb-3 text-[#343a40]">Web Development</h3>
					<p class="text-[#6c757d]">Crafting responsive and dynamic websites that engage your audience and drive results.</p>
				</div>
				<div class="bg-white p-8 rounded-lg shadow-xl text-center transform transition duration-300 hover:scale-105">
					<i class="fas fa-gamepad text-6xl text-[#007bff] mb-6"></i>
					<h3 class="text-2xl font-bold mb-3 text-[#343a40]">Game Development</h3>
					<p class="text-[#6c757d]">Building immersive and fun gaming experiences for various platforms.</p>
				</div>
				<div class="bg-white p-8 rounded-lg shadow-xl text-center transform transition duration-300 hover:scale-105">
					<i class="fas fa-mobile-alt text-6xl text-[#007bff] mb-6"></i>
					<h3 class="text-2xl font-bold mb-3 text-[#343a40]">App Development</h3>
					<p class="text-[#6c757d]">Designing and developing intuitive, feature-rich mobile applications for iOS and Android ecosystems.</p>
				</div>
			</div>
		</section>

		<section class="text-center mb-20">
			<h2 class="text-4xl font-bold mb-12 text-[#343a40]">Why Choose Us?</h2>
			<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
				<div class="bg-white p-6 rounded-lg shadow-md transform transition duration-300 hover:scale-105">
					<i class="fas fa-lightbulb text-5xl text-[#007bff] mb-4"></i>
					<h3 class="text-xl font-bold mb-2 text-[#343a40]">Innovative Solutions</h3>
					<p class="text-[#6c757d]">We bring fresh ideas and cutting-edge technology to every project.</p>
				</div>
				<div class="bg-white p-6 rounded-lg shadow-md transform transition duration-300 hover:scale-105">
					<i class="fas fa-cogs text-5xl text-[#007bff] mb-4"></i>
					<h3 class="text-xl font-bold mb-2 text-[#343a40]">Technical Expertise</h3>
					<p class="text-[#6c757d]">Our team comprises skilled professionals with diverse technical backgrounds.</p>
				</div>
				<div class="bg-white p-6 rounded-lg shadow-md transform transition duration-300 hover:scale-105">
					<i class="fas fa-handshake text-5xl text-[#007bff] mb-4"></i>
					<h3 class="text-xl font-bold mb-2 text-[#343a40]">Client-Centric Approach</h3>
					<p class="text-[#6c757d]">Your vision is our priority. We work closely with you every step of the way.</p>
				</div>
				<div class="bg-white p-6 rounded-lg shadow-md transform transition duration-300 hover:scale-105">
					<i class="fas fa-award text-5xl text-[#007bff] mb-4"></i>
					<h3 class="text-xl font-bold mb-2 text-[#343a40]">Quality Assurance</h3>
					<p class="text-[#6c757d]">We deliver robust, reliable, and high-performing solutions that stand the test of time.</p>
				</div>
			</div>
		</section>
	</main>
</Layout>

<div id="robot-check-popup" class="fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-[100] transition-all duration-500 ease-out opacity-0 scale-95">
  <div class="bg-white p-8 rounded-lg shadow-xl text-center max-w-sm w-full">
    <h2 class="text-2xl font-bold mb-6 text-[#343a40]">Are you a robot?</h2>
    <label class="inline-flex items-center cursor-pointer">
      <input type="checkbox" id="robot-checkbox" class="form-checkbox h-6 w-6 text-[#007bff] rounded-md border-gray-300 focus:ring-[#007bff]">
      <span class="ml-3 text-lg text-[#343a40]">I am not a robot</span>
    </label>
  </div>
</div>

<script is:inline>
  const heroH1 = document.getElementById('hero-h1');
  const heroP = document.getElementById('hero-p');
  const heroVideo = document.getElementById('hero-video');
  const robotCheckPopup = document.getElementById('robot-check-popup');
  const robotCheckbox = document.getElementById('robot-checkbox');

  const phrases = [
    {
      h1: 'Innovate. Create. Elevate.',
      p: 'We are Calyan Studio, a passionate team dedicated to crafting exceptional digital experiences in web, game, and app development.',
    },
    {
      h1: 'Your Vision, Our Expertise.',
      p: 'Transforming ideas into reality with cutting-edge web, game, and app solutions.',
    },
    {
      h1: 'Building Digital Futures.',
      p: 'Delivering high-quality, user-centric products that drive growth and innovation.',
    },
  ];

  let currentPhraseIndex = 0;
  let intervalId;

  function updateHeroText() {
    heroH1.classList.add('opacity-0');
    heroP.classList.add('opacity-0');

    setTimeout(() => {
      currentPhraseIndex = (currentPhraseIndex + 1) % phrases.length;
      const nextPhrase = phrases[currentPhraseIndex];
      heroH1.textContent = nextPhrase.h1;
      heroP.textContent = nextPhrase.p;
      heroH1.classList.remove('opacity-0');
      heroP.classList.remove('opacity-0');
    }, 1000); // Duration of fade-out
  }

  // Function to start video and animation
  function startHeroContent() {
    heroVideo.play();
    // Initial load of text
    heroH1.textContent = phrases[0].h1;
    heroP.textContent = phrases[0].p;
    intervalId = setInterval(updateHeroText, 3000); // Change every 3 seconds
  }

  // Handle checkbox change
  robotCheckbox.addEventListener('change', () => {
    if (robotCheckbox.checked) {
      robotCheckPopup.classList.add('opacity-0');
      robotCheckPopup.classList.add('scale-95');
      robotCheckPopup.classList.add('pointer-events-none');
      setTimeout(() => {
        robotCheckPopup.style.display = 'none';
        startHeroContent();
      }, 500); // Match transition duration
    } else {
      // Optionally handle uncheck if needed, though for a fake captcha, it's usually one-way
    }
  });

  // Pause video initially
  heroVideo.pause();

  // Animate popup on load
  window.addEventListener('load', () => {
    robotCheckPopup.classList.remove('opacity-0');
    robotCheckPopup.classList.remove('scale-95');
  });
</script>
